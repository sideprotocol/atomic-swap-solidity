{"abi":[{"type":"error","name":"NotEnoughFund","inputs":[{"name":"real","type":"uint256","internalType":"uint256"},{"name":"expected","type":"uint256","internalType":"uint256"}]}],"bytecode":{"object":"0x61063161003a600b82828239805160001a60731461002d57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600436106100405760003560e01c806306cf228014610045578063baa21b8c14610067575b600080fd5b81801561005157600080fd5b506100656100603660046104dc565b610087565b005b81801561007357600080fd5b506100656100823660046104dc565b6100f6565b6000826100948587610551565b61009e919061056e565b905060006100ac8287610590565b90506001600160a01b038816156100d8576100c8888883610172565b6100d3888484610172565b6100ec565b6100e287826102a3565b6100ec83836102a3565b5050505050505050565b6000826101038587610551565b61010d919061056e565b9050600061011b8287610590565b90506001600160a01b038816156101445761013888338984610382565b6100d388338585610382565b8534146100d8576040516301055eed60e21b8152346004820152602481018790526044015b60405180910390fd5b604080516001600160a01b038481166024830152604480830185905283518084039091018152606490920183526020820180516001600160e01b031663a9059cbb60e01b17905291516000928392908716916101ce91906105a3565b6000604051808303816000865af19150503d806000811461020b576040519150601f19603f3d011682016040523d82523d6000602084013e610210565b606091505b509150915081801561023a57508051158061023a57508080602001905181019061023a91906105d2565b61029c5760405162461bcd60e51b815260206004820152602d60248201527f5472616e7366657248656c7065723a3a736166655472616e736665723a20747260448201526c185b9cd9995c8819985a5b1959609a1b6064820152608401610169565b5050505050565b604080516000808252602082019092526001600160a01b0384169083906040516102cd91906105a3565b60006040518083038185875af1925050503d806000811461030a576040519150601f19603f3d011682016040523d82523d6000602084013e61030f565b606091505b505090508061037d5760405162461bcd60e51b815260206004820152603460248201527f5472616e7366657248656c7065723a3a736166655472616e736665724554483a60448201527308115512081d1c985b9cd9995c8819985a5b195960621b6064820152608401610169565b505050565b604080516001600160a01b0385811660248301528481166044830152606480830185905283518084039091018152608490920183526020820180516001600160e01b03166323b872dd60e01b17905291516000928392908816916103e691906105a3565b6000604051808303816000865af19150503d8060008114610423576040519150601f19603f3d011682016040523d82523d6000602084013e610428565b606091505b509150915081801561045257508051158061045257508080602001905181019061045291906105d2565b6104b85760405162461bcd60e51b815260206004820152603160248201527f5472616e7366657248656c7065723a3a7472616e7366657246726f6d3a207472604482015270185b9cd9995c919c9bdb4819985a5b1959607a1b6064820152608401610169565b505050505050565b80356001600160a01b03811681146104d757600080fd5b919050565b60008060008060008060c087890312156104f557600080fd5b6104fe876104c0565b955061050c602088016104c0565b945060408701359350606087013592506080870135915061052f60a088016104c0565b90509295509295509295565b634e487b7160e01b600052601160045260246000fd5b80820281158282048414176105685761056861053b565b92915050565b60008261058b57634e487b7160e01b600052601260045260246000fd5b500490565b818103818111156105685761056861053b565b6000825160005b818110156105c457602081860181015185830152016105aa565b506000920191825250919050565b6000602082840312156105e457600080fd5b815180151581146105f457600080fd5b939250505056fea26469706673582212200acbf5526e0c0340eae80a51b86466ff598f43cc3d26bdc7a113edb33c51cf4864736f6c63430008170033","sourceMap":"443:2705:5:-:0;;;;;;;;;;;;;;;-1:-1:-1;;;443:2705:5;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x73000000000000000000000000000000000000000030146080604052600436106100405760003560e01c806306cf228014610045578063baa21b8c14610067575b600080fd5b81801561005157600080fd5b506100656100603660046104dc565b610087565b005b81801561007357600080fd5b506100656100823660046104dc565b6100f6565b6000826100948587610551565b61009e919061056e565b905060006100ac8287610590565b90506001600160a01b038816156100d8576100c8888883610172565b6100d3888484610172565b6100ec565b6100e287826102a3565b6100ec83836102a3565b5050505050505050565b6000826101038587610551565b61010d919061056e565b9050600061011b8287610590565b90506001600160a01b038816156101445761013888338984610382565b6100d388338585610382565b8534146100d8576040516301055eed60e21b8152346004820152602481018790526044015b60405180910390fd5b604080516001600160a01b038481166024830152604480830185905283518084039091018152606490920183526020820180516001600160e01b031663a9059cbb60e01b17905291516000928392908716916101ce91906105a3565b6000604051808303816000865af19150503d806000811461020b576040519150601f19603f3d011682016040523d82523d6000602084013e610210565b606091505b509150915081801561023a57508051158061023a57508080602001905181019061023a91906105d2565b61029c5760405162461bcd60e51b815260206004820152602d60248201527f5472616e7366657248656c7065723a3a736166655472616e736665723a20747260448201526c185b9cd9995c8819985a5b1959609a1b6064820152608401610169565b5050505050565b604080516000808252602082019092526001600160a01b0384169083906040516102cd91906105a3565b60006040518083038185875af1925050503d806000811461030a576040519150601f19603f3d011682016040523d82523d6000602084013e61030f565b606091505b505090508061037d5760405162461bcd60e51b815260206004820152603460248201527f5472616e7366657248656c7065723a3a736166655472616e736665724554483a60448201527308115512081d1c985b9cd9995c8819985a5b195960621b6064820152608401610169565b505050565b604080516001600160a01b0385811660248301528481166044830152606480830185905283518084039091018152608490920183526020820180516001600160e01b03166323b872dd60e01b17905291516000928392908816916103e691906105a3565b6000604051808303816000865af19150503d8060008114610423576040519150601f19603f3d011682016040523d82523d6000602084013e610428565b606091505b509150915081801561045257508051158061045257508080602001905181019061045291906105d2565b6104b85760405162461bcd60e51b815260206004820152603160248201527f5472616e7366657248656c7065723a3a7472616e7366657246726f6d3a207472604482015270185b9cd9995c919c9bdb4819985a5b1959607a1b6064820152608401610169565b505050505050565b80356001600160a01b03811681146104d757600080fd5b919050565b60008060008060008060c087890312156104f557600080fd5b6104fe876104c0565b955061050c602088016104c0565b945060408701359350606087013592506080870135915061052f60a088016104c0565b90509295509295509295565b634e487b7160e01b600052601160045260246000fd5b80820281158282048414176105685761056861053b565b92915050565b60008261058b57634e487b7160e01b600052601260045260246000fd5b500490565b818103818111156105685761056861053b565b6000825160005b818110156105c457602081860181015185830152016105aa565b506000920191825250919050565b6000602082840312156105e457600080fd5b815180151581146105f457600080fd5b939250505056fea26469706673582212200acbf5526e0c0340eae80a51b86466ff598f43cc3d26bdc7a113edb33c51cf4864736f6c63430008170033","sourceMap":"443:2705:5:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1078:641;;;;;;;;;;-1:-1:-1;1078:641:5;;;;;:::i;:::-;;:::i;:::-;;2343:802;;;;;;;;;;-1:-1:-1;2343:802:5;;;;;:::i;:::-;;:::i;1078:641::-;1286:11;1321:15;1301:16;1310:7;1301:6;:16;:::i;:::-;1300:36;;;;:::i;:::-;1286:50;-1:-1:-1;1346:22:5;1371:12;1286:50;1371:6;:12;:::i;:::-;1346:37;-1:-1:-1;;;;;;1398:19:5;;;1394:319;;1433:61;1461:5;1468:9;1479:14;1433:27;:61::i;:::-;1508:49;1536:5;1543:8;1553:3;1508:27;:49::i;:::-;1394:319;;;1588:56;1619:9;1629:14;1588:30;:56::i;:::-;1658:44;1689:8;1698:3;1658:30;:44::i;:::-;1276:443;;1078:641;;;;;;:::o;2343:802::-;2555:11;2590:15;2570:16;2579:7;2570:6;:16;:::i;:::-;2569:36;;;;:::i;:::-;2555:50;-1:-1:-1;2615:22:5;2640:12;2555:50;2640:6;:12;:::i;:::-;2615:37;-1:-1:-1;;;;;;2667:19:5;;;2663:476;;2702:77;2734:5;2741:10;2753:9;2764:14;2702:31;:77::i;:::-;2793:65;2825:5;2832:10;2844:8;2854:3;2793:31;:65::i;2663:476::-;2905:6;2892:9;:19;2889:112;;2938:48;;-1:-1:-1;;;2938:48:5;;2968:9;2938:48;;;1572:25:62;1613:18;;;1606:34;;;1545:18;;2938:48:5;;;;;;;;652:438:59;878:45;;;-1:-1:-1;;;;;1843:32:62;;;878:45:59;;;1825:51:62;1892:18;;;;1885:34;;;878:45:59;;;;;;;;;;1798:18:62;;;;878:45:59;;;;;;;-1:-1:-1;;;;;878:45:59;-1:-1:-1;;;878:45:59;;;867:57;;-1:-1:-1;;;;867:10:59;;;;:57;;878:45;867:57;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;831:93;;;;955:7;:57;;;;-1:-1:-1;967:11:59;;:16;;:44;;;998:4;987:24;;;;;;;;;;;;:::i;:::-;934:149;;;;-1:-1:-1;;;934:149:59;;2831:2:62;934:149:59;;;2813:21:62;2870:2;2850:18;;;2843:30;2909:34;2889:18;;;2882:62;-1:-1:-1;;;2960:18:62;;;2953:43;3013:19;;934:149:59;2629:409:62;934:149:59;755:335;;652:438;;;:::o;1588:214::-;1700:12;;;1660;1700;;;;;;;;;-1:-1:-1;;;;;1678:7:59;;;1693:5;;1678:35;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1659:54;;;1731:7;1723:72;;;;-1:-1:-1;;;1723:72:59;;3377:2:62;1723:72:59;;;3359:21:62;3416:2;3396:18;;;3389:30;3455:34;3435:18;;;3428:62;-1:-1:-1;;;3506:18:62;;;3499:50;3566:19;;1723:72:59;3175:416:62;1723:72:59;1649:153;1588:214;;:::o;1096:486::-;1360:51;;;-1:-1:-1;;;;;3854:15:62;;;1360:51:59;;;3836:34:62;3906:15;;;3886:18;;;3879:43;3938:18;;;;3931:34;;;1360:51:59;;;;;;;;;;3771:18:62;;;;1360:51:59;;;;;;;-1:-1:-1;;;;;1360:51:59;-1:-1:-1;;;1360:51:59;;;1349:63;;-1:-1:-1;;;;1349:10:59;;;;:63;;1360:51;1349:63;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1313:99;;;;1443:7;:57;;;;-1:-1:-1;1455:11:59;;:16;;:44;;;1486:4;1475:24;;;;;;;;;;;;:::i;:::-;1422:153;;;;-1:-1:-1;;;1422:153:59;;4178:2:62;1422:153:59;;;4160:21:62;4217:2;4197:18;;;4190:30;4256:34;4236:18;;;4229:62;-1:-1:-1;;;4307:18:62;;;4300:47;4364:19;;1422:153:59;3976:413:62;1422:153:59;1225:357;;1096:486;;;;:::o;14:173:62:-;82:20;;-1:-1:-1;;;;;131:31:62;;121:42;;111:70;;177:1;174;167:12;111:70;14:173;;;:::o;192:541::-;296:6;304;312;320;328;336;389:3;377:9;368:7;364:23;360:33;357:53;;;406:1;403;396:12;357:53;429:29;448:9;429:29;:::i;:::-;419:39;;477:38;511:2;500:9;496:18;477:38;:::i;:::-;467:48;;562:2;551:9;547:18;534:32;524:42;;613:2;602:9;598:18;585:32;575:42;;664:3;653:9;649:19;636:33;626:43;;688:39;722:3;711:9;707:19;688:39;:::i;:::-;678:49;;192:541;;;;;;;;:::o;738:127::-;799:10;794:3;790:20;787:1;780:31;830:4;827:1;820:15;854:4;851:1;844:15;870:168;943:9;;;974;;991:15;;;985:22;;971:37;961:71;;1012:18;;:::i;:::-;870:168;;;;:::o;1043:217::-;1083:1;1109;1099:132;;1153:10;1148:3;1144:20;1141:1;1134:31;1188:4;1185:1;1178:15;1216:4;1213:1;1206:15;1099:132;-1:-1:-1;1245:9:62;;1043:217::o;1265:128::-;1332:9;;;1353:11;;;1350:37;;;1367:18;;:::i;1930:412::-;2059:3;2097:6;2091:13;2122:1;2132:129;2146:6;2143:1;2140:13;2132:129;;;2244:4;2228:14;;;2224:25;;2218:32;2205:11;;;2198:53;2161:12;2132:129;;;-1:-1:-1;2316:1:62;2280:16;;2305:13;;;-1:-1:-1;2280:16:62;1930:412;-1:-1:-1;1930:412:62:o;2347:277::-;2414:6;2467:2;2455:9;2446:7;2442:23;2438:32;2435:52;;;2483:1;2480;2473:12;2435:52;2515:9;2509:16;2568:5;2561:13;2554:21;2547:5;2544:32;2534:60;;2590:1;2587;2580:12;2534:60;2613:5;2347:277;-1:-1:-1;;;2347:277:62:o","linkReferences":{}},"methodIdentifiers":{"transferFromWithFee(address,address,uint256,uint256,uint256,address)":"baa21b8c","transferWithFee(address,address,uint256,uint256,uint256,address)":"06cf2280"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.23+commit.f704f362\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"real\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"expected\",\"type\":\"uint256\"}],\"name\":\"NotEnoughFund\",\"type\":\"error\"}],\"devdoc\":{\"details\":\"Used for handling ERC20 token transfers with fee calculations in atomic swap operations.\",\"kind\":\"dev\",\"methods\":{\"transferFromWithFee(address,address,uint256,uint256,uint256,address)\":{\"details\":\"Deducts a fee from the amount and transfers the net amount to the recipient and fee to the treasury.\",\"params\":{\"amount\":\"The total amount to transfer before fees.\",\"feeRate\":\"The fee rate to apply.\",\"maxFeeRateScale\":\"The scaling factor for the fee rate.\",\"recipient\":\"The address receiving the tokens.\",\"token\":\"The address of the token (ERC20) or zero address for Ether.\",\"treasury\":\"The address of the treasury to receive the fee.\"}},\"transferWithFee(address,address,uint256,uint256,uint256,address)\":{\"details\":\"Deducts a fee from the amount and transfers the net amount to the recipient and fee to the treasury.\",\"params\":{\"amount\":\"The total amount to transfer before fees.\",\"feeRate\":\"The fee rate to apply.\",\"maxFeeRateScale\":\"The scaling factor for the fee rate.\",\"recipient\":\"The address receiving the tokens.\",\"token\":\"The address of the token (ERC20) or zero address for Ether.\",\"treasury\":\"The address of the treasury to receive the fee.\"}}},\"title\":\"Token Transfer Helper\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"transferFromWithFee(address,address,uint256,uint256,uint256,address)\":{\"notice\":\"Transfers tokens from one address to another with a fee deducted, sending the fee to the treasury.\"},\"transferWithFee(address,address,uint256,uint256,uint256,address)\":{\"notice\":\"Transfers tokens to a recipient with a fee deducted, sending the fee to the treasury.\"}},\"notice\":\"Library providing functions to safely transfer tokens with support for fee deductions.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/abstracts/libs/utils/AnteHandler.sol\":\"AnteHandler\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/contracts-upgradeable/=node_modules/@openzeppelin/contracts-upgradeable/\",\":@openzeppelin/contracts/=node_modules/@openzeppelin/contracts/\",\":@uniswap/=node_modules/@uniswap/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":forge-std/=lib/forge-std/src/\"]},\"sources\":{\"contracts/abstracts/interfaces/IAtomicSwapBase.sol\":{\"keccak256\":\"0x79b017fd86ac1ba5cc29a63c62e226558fc1d11b4e0800c50de1c6aca2593247\",\"license\":\"UNLICENSED\",\"urls\":[\"bzz-raw://5dbf84c2e231525478ddd9a422fd0aac54c7a37eee1742167925280865543e27\",\"dweb:/ipfs/QmZxkdGjVp1EvF9Hf4buQkrbwrSX8AKMkUivV1n5UoGwS8\"]},\"contracts/abstracts/libs/utils/AnteHandler.sol\":{\"keccak256\":\"0x0654a37d98356e3c0818a9ab9c8eed32ebef74b78651f628a0cd46ee9862486d\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://c5e490196bd3c3d5bd61fdcefd5ba98ded575145ecf07df72127bdcd4982b967\",\"dweb:/ipfs/QmTAZ5UEU271qEnDvHY1XYzd1nLBxZyRwgKshjQNtVX5fm\"]},\"node_modules/@uniswap/lib/contracts/libraries/TransferHelper.sol\":{\"keccak256\":\"0xaff99b54915f57e2a4e71b8d15afd4ee425410e5a6f45c07517ae1beb806f8bd\",\"license\":\"GPL-3.0-or-later\",\"urls\":[\"bzz-raw://15432ec031f4cfa6709921289e198b030a0c5eac75b5a3e0eb64827a2b3b5595\",\"dweb:/ipfs/QmZvR1KuuDvuzXFiADCngTKyMCTy31uhq9U6CazP59B55j\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.23+commit.f704f362"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"uint256","name":"real","type":"uint256"},{"internalType":"uint256","name":"expected","type":"uint256"}],"type":"error","name":"NotEnoughFund"}],"devdoc":{"kind":"dev","methods":{"transferFromWithFee(address,address,uint256,uint256,uint256,address)":{"details":"Deducts a fee from the amount and transfers the net amount to the recipient and fee to the treasury.","params":{"amount":"The total amount to transfer before fees.","feeRate":"The fee rate to apply.","maxFeeRateScale":"The scaling factor for the fee rate.","recipient":"The address receiving the tokens.","token":"The address of the token (ERC20) or zero address for Ether.","treasury":"The address of the treasury to receive the fee."}},"transferWithFee(address,address,uint256,uint256,uint256,address)":{"details":"Deducts a fee from the amount and transfers the net amount to the recipient and fee to the treasury.","params":{"amount":"The total amount to transfer before fees.","feeRate":"The fee rate to apply.","maxFeeRateScale":"The scaling factor for the fee rate.","recipient":"The address receiving the tokens.","token":"The address of the token (ERC20) or zero address for Ether.","treasury":"The address of the treasury to receive the fee."}}},"version":1},"userdoc":{"kind":"user","methods":{"transferFromWithFee(address,address,uint256,uint256,uint256,address)":{"notice":"Transfers tokens from one address to another with a fee deducted, sending the fee to the treasury."},"transferWithFee(address,address,uint256,uint256,uint256,address)":{"notice":"Transfers tokens to a recipient with a fee deducted, sending the fee to the treasury."}},"version":1}},"settings":{"remappings":["@openzeppelin/contracts-upgradeable/=node_modules/@openzeppelin/contracts-upgradeable/","@openzeppelin/contracts/=node_modules/@openzeppelin/contracts/","@uniswap/=node_modules/@uniswap/","ds-test/=lib/forge-std/lib/ds-test/src/","forge-std/=lib/forge-std/src/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"contracts/abstracts/libs/utils/AnteHandler.sol":"AnteHandler"},"libraries":{}},"sources":{"contracts/abstracts/interfaces/IAtomicSwapBase.sol":{"keccak256":"0x79b017fd86ac1ba5cc29a63c62e226558fc1d11b4e0800c50de1c6aca2593247","urls":["bzz-raw://5dbf84c2e231525478ddd9a422fd0aac54c7a37eee1742167925280865543e27","dweb:/ipfs/QmZxkdGjVp1EvF9Hf4buQkrbwrSX8AKMkUivV1n5UoGwS8"],"license":"UNLICENSED"},"contracts/abstracts/libs/utils/AnteHandler.sol":{"keccak256":"0x0654a37d98356e3c0818a9ab9c8eed32ebef74b78651f628a0cd46ee9862486d","urls":["bzz-raw://c5e490196bd3c3d5bd61fdcefd5ba98ded575145ecf07df72127bdcd4982b967","dweb:/ipfs/QmTAZ5UEU271qEnDvHY1XYzd1nLBxZyRwgKshjQNtVX5fm"],"license":"MIT"},"node_modules/@uniswap/lib/contracts/libraries/TransferHelper.sol":{"keccak256":"0xaff99b54915f57e2a4e71b8d15afd4ee425410e5a6f45c07517ae1beb806f8bd","urls":["bzz-raw://15432ec031f4cfa6709921289e198b030a0c5eac75b5a3e0eb64827a2b3b5595","dweb:/ipfs/QmZvR1KuuDvuzXFiADCngTKyMCTy31uhq9U6CazP59B55j"],"license":"GPL-3.0-or-later"}},"version":1},"ast":{"absolutePath":"contracts/abstracts/libs/utils/AnteHandler.sol","id":992,"exportedSymbols":{"AnteHandler":[991],"IAtomicSwapBase":[629],"TransferHelper":[52889]},"nodeType":"SourceUnit","src":"32:3117:5","nodes":[{"id":825,"nodeType":"PragmaDirective","src":"32:24:5","nodes":[],"literals":["solidity","^","0.8",".19"]},{"id":827,"nodeType":"ImportDirective","src":"57:83:5","nodes":[],"absolutePath":"node_modules/@uniswap/lib/contracts/libraries/TransferHelper.sol","file":"@uniswap/lib/contracts/libraries/TransferHelper.sol","nameLocation":"-1:-1:-1","scope":992,"sourceUnit":52890,"symbolAliases":[{"foreign":{"id":826,"name":"TransferHelper","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52889,"src":"65:14:5","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":829,"nodeType":"ImportDirective","src":"141:71:5","nodes":[],"absolutePath":"contracts/abstracts/interfaces/IAtomicSwapBase.sol","file":"../../interfaces/IAtomicSwapBase.sol","nameLocation":"-1:-1:-1","scope":992,"sourceUnit":630,"symbolAliases":[{"foreign":{"id":828,"name":"IAtomicSwapBase","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":629,"src":"150:15:5","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":991,"nodeType":"ContractDefinition","src":"443:2705:5","nodes":[{"id":901,"nodeType":"FunctionDefinition","src":"1078:641:5","nodes":[],"body":{"id":900,"nodeType":"Block","src":"1276:443:5","nodes":[],"statements":[{"assignments":[847],"declarations":[{"constant":false,"id":847,"mutability":"mutable","name":"fee","nameLocation":"1294:3:5","nodeType":"VariableDeclaration","scope":900,"src":"1286:11:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":846,"name":"uint256","nodeType":"ElementaryTypeName","src":"1286:7:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":854,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":853,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":850,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":848,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":837,"src":"1301:6:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":849,"name":"feeRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":839,"src":"1310:7:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1301:16:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":851,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"1300:18:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":852,"name":"maxFeeRateScale","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":841,"src":"1321:15:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1300:36:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"1286:50:5"},{"assignments":[856],"declarations":[{"constant":false,"id":856,"mutability":"mutable","name":"amountAfterFee","nameLocation":"1354:14:5","nodeType":"VariableDeclaration","scope":900,"src":"1346:22:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":855,"name":"uint256","nodeType":"ElementaryTypeName","src":"1346:7:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":860,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":859,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":857,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":837,"src":"1371:6:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":858,"name":"fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":847,"src":"1380:3:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1371:12:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"1346:37:5"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":866,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":861,"name":"token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":833,"src":"1398:5:5","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"hexValue":"30","id":864,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1415:1:5","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":863,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1407:7:5","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":862,"name":"address","nodeType":"ElementaryTypeName","src":"1407:7:5","typeDescriptions":{}}},"id":865,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1407:10:5","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"1398:19:5","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":898,"nodeType":"Block","src":"1574:139:5","statements":[{"expression":{"arguments":[{"id":887,"name":"recipient","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":835,"src":"1619:9:5","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":888,"name":"amountAfterFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":856,"src":"1629:14:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":884,"name":"TransferHelper","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52889,"src":"1588:14:5","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_TransferHelper_$52889_$","typeString":"type(library TransferHelper)"}},"id":886,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1603:15:5","memberName":"safeTransferETH","nodeType":"MemberAccess","referencedDeclaration":52888,"src":"1588:30:5","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,uint256)"}},"id":889,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1588:56:5","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":890,"nodeType":"ExpressionStatement","src":"1588:56:5"},{"expression":{"arguments":[{"id":894,"name":"treasury","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":843,"src":"1689:8:5","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":895,"name":"fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":847,"src":"1698:3:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":891,"name":"TransferHelper","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52889,"src":"1658:14:5","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_TransferHelper_$52889_$","typeString":"type(library TransferHelper)"}},"id":893,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1673:15:5","memberName":"safeTransferETH","nodeType":"MemberAccess","referencedDeclaration":52888,"src":"1658:30:5","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,uint256)"}},"id":896,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1658:44:5","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":897,"nodeType":"ExpressionStatement","src":"1658:44:5"}]},"id":899,"nodeType":"IfStatement","src":"1394:319:5","trueBody":{"id":883,"nodeType":"Block","src":"1419:149:5","statements":[{"expression":{"arguments":[{"id":870,"name":"token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":833,"src":"1461:5:5","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":871,"name":"recipient","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":835,"src":"1468:9:5","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":872,"name":"amountAfterFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":856,"src":"1479:14:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":867,"name":"TransferHelper","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52889,"src":"1433:14:5","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_TransferHelper_$52889_$","typeString":"type(library TransferHelper)"}},"id":869,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1448:12:5","memberName":"safeTransfer","nodeType":"MemberAccess","referencedDeclaration":52817,"src":"1433:27:5","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,address,uint256)"}},"id":873,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1433:61:5","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":874,"nodeType":"ExpressionStatement","src":"1433:61:5"},{"expression":{"arguments":[{"id":878,"name":"token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":833,"src":"1536:5:5","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":879,"name":"treasury","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":843,"src":"1543:8:5","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":880,"name":"fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":847,"src":"1553:3:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":875,"name":"TransferHelper","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52889,"src":"1508:14:5","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_TransferHelper_$52889_$","typeString":"type(library TransferHelper)"}},"id":877,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1523:12:5","memberName":"safeTransfer","nodeType":"MemberAccess","referencedDeclaration":52817,"src":"1508:27:5","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,address,uint256)"}},"id":881,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1508:49:5","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":882,"nodeType":"ExpressionStatement","src":"1508:49:5"}]}}]},"documentation":{"id":831,"nodeType":"StructuredDocumentation","src":"469:601:5","text":"@notice Transfers tokens to a recipient with a fee deducted, sending the fee to the treasury.\n @param token The address of the token (ERC20) or zero address for Ether.\n @param recipient The address receiving the tokens.\n @param amount The total amount to transfer before fees.\n @param feeRate The fee rate to apply.\n @param maxFeeRateScale The scaling factor for the fee rate.\n @param treasury The address of the treasury to receive the fee.\n @dev Deducts a fee from the amount and transfers the net amount to the recipient and fee to the treasury."},"functionSelector":"06cf2280","implemented":true,"kind":"function","modifiers":[],"name":"transferWithFee","nameLocation":"1087:15:5","parameters":{"id":844,"nodeType":"ParameterList","parameters":[{"constant":false,"id":833,"mutability":"mutable","name":"token","nameLocation":"1120:5:5","nodeType":"VariableDeclaration","scope":901,"src":"1112:13:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":832,"name":"address","nodeType":"ElementaryTypeName","src":"1112:7:5","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":835,"mutability":"mutable","name":"recipient","nameLocation":"1143:9:5","nodeType":"VariableDeclaration","scope":901,"src":"1135:17:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":834,"name":"address","nodeType":"ElementaryTypeName","src":"1135:7:5","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":837,"mutability":"mutable","name":"amount","nameLocation":"1170:6:5","nodeType":"VariableDeclaration","scope":901,"src":"1162:14:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":836,"name":"uint256","nodeType":"ElementaryTypeName","src":"1162:7:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":839,"mutability":"mutable","name":"feeRate","nameLocation":"1194:7:5","nodeType":"VariableDeclaration","scope":901,"src":"1186:15:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":838,"name":"uint256","nodeType":"ElementaryTypeName","src":"1186:7:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":841,"mutability":"mutable","name":"maxFeeRateScale","nameLocation":"1219:15:5","nodeType":"VariableDeclaration","scope":901,"src":"1211:23:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":840,"name":"uint256","nodeType":"ElementaryTypeName","src":"1211:7:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":843,"mutability":"mutable","name":"treasury","nameLocation":"1252:8:5","nodeType":"VariableDeclaration","scope":901,"src":"1244:16:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":842,"name":"address","nodeType":"ElementaryTypeName","src":"1244:7:5","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"1102:164:5"},"returnParameters":{"id":845,"nodeType":"ParameterList","parameters":[],"src":"1276:0:5"},"scope":991,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":990,"nodeType":"FunctionDefinition","src":"2343:802:5","nodes":[],"body":{"id":989,"nodeType":"Block","src":"2545:600:5","nodes":[],"statements":[{"assignments":[918],"declarations":[{"constant":false,"id":918,"mutability":"mutable","name":"fee","nameLocation":"2563:3:5","nodeType":"VariableDeclaration","scope":989,"src":"2555:11:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":917,"name":"uint256","nodeType":"ElementaryTypeName","src":"2555:7:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":925,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":924,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":921,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":919,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":908,"src":"2570:6:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":920,"name":"feeRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":910,"src":"2579:7:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2570:16:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":922,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2569:18:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":923,"name":"maxFeeRateScale","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":912,"src":"2590:15:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2569:36:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2555:50:5"},{"assignments":[927],"declarations":[{"constant":false,"id":927,"mutability":"mutable","name":"amountAfterFee","nameLocation":"2623:14:5","nodeType":"VariableDeclaration","scope":989,"src":"2615:22:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":926,"name":"uint256","nodeType":"ElementaryTypeName","src":"2615:7:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":931,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":930,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":928,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":908,"src":"2640:6:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":929,"name":"fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":918,"src":"2649:3:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2640:12:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2615:37:5"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":937,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":932,"name":"token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":904,"src":"2667:5:5","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"hexValue":"30","id":935,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2684:1:5","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":934,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2676:7:5","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":933,"name":"address","nodeType":"ElementaryTypeName","src":"2676:7:5","typeDescriptions":{}}},"id":936,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2676:10:5","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2667:19:5","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":987,"nodeType":"Block","src":"2875:264:5","statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":962,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":959,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"2892:3:5","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":960,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2896:5:5","memberName":"value","nodeType":"MemberAccess","src":"2892:9:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":961,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":908,"src":"2905:6:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2892:19:5","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":972,"nodeType":"IfStatement","src":"2889:112:5","trueBody":{"id":971,"nodeType":"Block","src":"2913:88:5","statements":[{"errorCall":{"arguments":[{"expression":{"id":966,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"2968:3:5","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":967,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2972:5:5","memberName":"value","nodeType":"MemberAccess","src":"2968:9:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":968,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":908,"src":"2979:6:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":963,"name":"IAtomicSwapBase","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":629,"src":"2938:15:5","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IAtomicSwapBase_$629_$","typeString":"type(contract IAtomicSwapBase)"}},"id":965,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2954:13:5","memberName":"NotEnoughFund","nodeType":"MemberAccess","referencedDeclaration":536,"src":"2938:29:5","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256) pure"}},"id":969,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2938:48:5","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":970,"nodeType":"RevertStatement","src":"2931:55:5"}]}},{"expression":{"arguments":[{"id":976,"name":"recipient","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":906,"src":"3045:9:5","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":977,"name":"amountAfterFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":927,"src":"3055:14:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":973,"name":"TransferHelper","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52889,"src":"3014:14:5","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_TransferHelper_$52889_$","typeString":"type(library TransferHelper)"}},"id":975,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3029:15:5","memberName":"safeTransferETH","nodeType":"MemberAccess","referencedDeclaration":52888,"src":"3014:30:5","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,uint256)"}},"id":978,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3014:56:5","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":979,"nodeType":"ExpressionStatement","src":"3014:56:5"},{"expression":{"arguments":[{"id":983,"name":"treasury","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":914,"src":"3115:8:5","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":984,"name":"fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":918,"src":"3124:3:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":980,"name":"TransferHelper","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52889,"src":"3084:14:5","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_TransferHelper_$52889_$","typeString":"type(library TransferHelper)"}},"id":982,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3099:15:5","memberName":"safeTransferETH","nodeType":"MemberAccess","referencedDeclaration":52888,"src":"3084:30:5","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,uint256)"}},"id":985,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3084:44:5","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":986,"nodeType":"ExpressionStatement","src":"3084:44:5"}]},"id":988,"nodeType":"IfStatement","src":"2663:476:5","trueBody":{"id":958,"nodeType":"Block","src":"2688:181:5","statements":[{"expression":{"arguments":[{"id":941,"name":"token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":904,"src":"2734:5:5","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"id":942,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"2741:3:5","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":943,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2745:6:5","memberName":"sender","nodeType":"MemberAccess","src":"2741:10:5","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":944,"name":"recipient","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":906,"src":"2753:9:5","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":945,"name":"amountAfterFee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":927,"src":"2764:14:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":938,"name":"TransferHelper","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52889,"src":"2702:14:5","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_TransferHelper_$52889_$","typeString":"type(library TransferHelper)"}},"id":940,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2717:16:5","memberName":"safeTransferFrom","nodeType":"MemberAccess","referencedDeclaration":52863,"src":"2702:31:5","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_address_$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,address,address,uint256)"}},"id":946,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2702:77:5","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":947,"nodeType":"ExpressionStatement","src":"2702:77:5"},{"expression":{"arguments":[{"id":951,"name":"token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":904,"src":"2825:5:5","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"id":952,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"2832:3:5","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":953,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2836:6:5","memberName":"sender","nodeType":"MemberAccess","src":"2832:10:5","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":954,"name":"treasury","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":914,"src":"2844:8:5","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":955,"name":"fee","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":918,"src":"2854:3:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":948,"name":"TransferHelper","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52889,"src":"2793:14:5","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_TransferHelper_$52889_$","typeString":"type(library TransferHelper)"}},"id":950,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2808:16:5","memberName":"safeTransferFrom","nodeType":"MemberAccess","referencedDeclaration":52863,"src":"2793:31:5","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_address_$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,address,address,uint256)"}},"id":956,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2793:65:5","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":957,"nodeType":"ExpressionStatement","src":"2793:65:5"}]}}]},"documentation":{"id":902,"nodeType":"StructuredDocumentation","src":"1724:614:5","text":"@notice Transfers tokens from one address to another with a fee deducted, sending the fee to the treasury.\n @param token The address of the token (ERC20) or zero address for Ether.\n @param recipient The address receiving the tokens.\n @param amount The total amount to transfer before fees.\n @param feeRate The fee rate to apply.\n @param maxFeeRateScale The scaling factor for the fee rate.\n @param treasury The address of the treasury to receive the fee.\n @dev Deducts a fee from the amount and transfers the net amount to the recipient and fee to the treasury."},"functionSelector":"baa21b8c","implemented":true,"kind":"function","modifiers":[],"name":"transferFromWithFee","nameLocation":"2352:19:5","parameters":{"id":915,"nodeType":"ParameterList","parameters":[{"constant":false,"id":904,"mutability":"mutable","name":"token","nameLocation":"2389:5:5","nodeType":"VariableDeclaration","scope":990,"src":"2381:13:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":903,"name":"address","nodeType":"ElementaryTypeName","src":"2381:7:5","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":906,"mutability":"mutable","name":"recipient","nameLocation":"2412:9:5","nodeType":"VariableDeclaration","scope":990,"src":"2404:17:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":905,"name":"address","nodeType":"ElementaryTypeName","src":"2404:7:5","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":908,"mutability":"mutable","name":"amount","nameLocation":"2439:6:5","nodeType":"VariableDeclaration","scope":990,"src":"2431:14:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":907,"name":"uint256","nodeType":"ElementaryTypeName","src":"2431:7:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":910,"mutability":"mutable","name":"feeRate","nameLocation":"2463:7:5","nodeType":"VariableDeclaration","scope":990,"src":"2455:15:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":909,"name":"uint256","nodeType":"ElementaryTypeName","src":"2455:7:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":912,"mutability":"mutable","name":"maxFeeRateScale","nameLocation":"2488:15:5","nodeType":"VariableDeclaration","scope":990,"src":"2480:23:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":911,"name":"uint256","nodeType":"ElementaryTypeName","src":"2480:7:5","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":914,"mutability":"mutable","name":"treasury","nameLocation":"2521:8:5","nodeType":"VariableDeclaration","scope":990,"src":"2513:16:5","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":913,"name":"address","nodeType":"ElementaryTypeName","src":"2513:7:5","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"2371:164:5"},"returnParameters":{"id":916,"nodeType":"ParameterList","parameters":[],"src":"2545:0:5"},"scope":991,"stateMutability":"nonpayable","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[],"canonicalName":"AnteHandler","contractDependencies":[],"contractKind":"library","documentation":{"id":830,"nodeType":"StructuredDocumentation","src":"213:230:5","text":"@title Token Transfer Helper\n @notice Library providing functions to safely transfer tokens with support for fee deductions.\n @dev Used for handling ERC20 token transfers with fee calculations in atomic swap operations."},"fullyImplemented":true,"linearizedBaseContracts":[991],"name":"AnteHandler","nameLocation":"451:11:5","scope":992,"usedErrors":[536],"usedEvents":[]}],"license":"MIT"},"id":5}